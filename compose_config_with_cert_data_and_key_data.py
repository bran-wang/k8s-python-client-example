#!/usr/bin/env python
# encoding: utf-8

from kubernetes import client, config
import base64

def main():
    myconfig = client.Configuration()

    myconfig.host="https://10.193.20.221:443"
    myconfig.verify_ssl = False
    cert_content = base64.decodestring("LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVoakNDQTI2Z0F3SUJBZ0lRV3p3R2dvTXZPY2dqQ2U5VkVheHMzakFOQmdrcWhraUc5dzBCQVFzRkFEQjcKTVFrd0J3WURWUVFHRXdBeENUQUhCZ05WQkFnVEFERUpNQWNHQTFVRUJ4TUFNUWt3QndZRFZRUVJFd0F4SERBYQpCZ05WQkFvVEUydDFZbVZ5Ym1WMFpYTXRZVzU1ZDJobGNtVXhDVEFIQmdOVkJBc1RBREVrTUNJR0ExVUVBd3diCmEzVmlaWEp1WlhSbGN5MXliMjkwWDJObGNuUnBabWxqWVhSbE1CNFhEVEU0TURNd05UQTRNemt5TmxvWERURTUKTURNd05UQTRNemt5Tmxvd2ZURUpNQWNHQTFVRUJoTUFNUWt3QndZRFZRUUlFd0F4Q1RBSEJnTlZCQWNUQURFSgpNQWNHQTFVRUVSTUFNUnd3R2dZRFZRUUtFeE5yZFdKbGNtNWxkR1Z6TFdGdWVYZG9aWEpsTVFrd0J3WURWUVFMCkV3QXhKakFrQmdOVkJBTU1IV3QxWW1WeWJtVjBaWE10YldGemRHVnlYMk5sY25ScFptbGpZWFJsTUlJQklqQU4KQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdkxGMFhaaFBCTGRUOGdLSzIrb05WT1N6Uy95QQpiTjdkd1R0eWkzTkcwcldYWGxzeWh6b1o2ZVA4cjJxbXk3ZmtXK0VOOEdseDMya3liaDkwVldrQnptMGRtem51CnF4M3cxSC9PajkzcGJMN3cxZHFOcXlFR2paZks5RmtNQlJuRWJibmUzRUpadkRMNzVsTHU3OGhIWDRjQ3NQRVcKcGV5RmtpRWVmN3lvSExmcUtDcXZPK2ovbjZjamNsS2tub1JQUTNJOW56M2R6b3krclg0U0NQUmRZMG1kc3pRRwpqQS93MDAwbjdXc0l1YmRLeHlUMkVhdEJxa2ZWTHdtLy9UalFRVFBuYWFFQndRU3JmSjluY3NMRjdZMVc2eU82CjNIRHYrRURLMlhYczdIbFJNNE4yRUZMaUlqZjBTMzB1L3RIZE5RM21NM1N3eFY0cmRLOHdubCtBU1FJREFRQUIKbzRJQkFqQ0IvekFPQmdOVkhROEJBZjhFQkFNQ0I0QXdIUVlEVlIwbEJCWXdGQVlJS3dZQkJRVUhBd0VHQ0NzRwpBUVVGQndNQ01Bd0dBMVVkRXdFQi93UUNNQUF3SHdZRFZSMGpCQmd3Rm9BVTdQUDJHZVRpZjg5bWptWG9XeVhnCkduSzliOVF3Z1o0R0ExVWRFUVNCbGpDQms0SVJhM1ZpWlhKdVpYUmxjeTF0WVhOMFpYS0NDbXQxWW1WeWJtVjAKWlhPQ0VtdDFZbVZ5Ym1WMFpYTXVaR1ZtWVhWc2RJSVdhM1ZpWlhKdVpYUmxjeTVrWldaaGRXeDBMbk4yWTRJYwphM1ZpWlhKdVpYUmxjeTVrWldaaGRXeDBMbk4yWXk1c2IyTmhiSUljYTNWaVpYSnVaWFJsY3k1a1pXWmhkV3gwCkxuTjJZeTVzYjJOaGJJY0VDc0VVM1ljRUNnQUFBVEFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBT0tCUzZMV0oKVy9ldkkxRzFQQU9LQ0s1VklvYVRGZWtZUUNPVTNQTndLOVNsaFJZMDlqNDBoM0xsaGg2ZlJzMWtUMVljSlR2Qwo3aFh4bEVaVWw0aWZobnlJeVVpTXMvaXJlNU5pUXp4K2tydTVndE1Hb1E4WjRiR2FVQlpGQWZ2RVNwdW41a2l0Cm5KRjQzRUU4S2tsZFpPTmJQcXhkQjQyQWxWejdpdWx5ckhKMmIvV0hKYzFHb0RiV2sweGo5YmQyVXNmRVpiakYKVlJqWlFSOGlQcnE3ZmlVR2YvRHZlN01paFZZVVRXYW1rWXVoa0tjUnFZZjJHWXNKLzFVckEydzltRHpBTldzaQpLZEJ6WWwyYk9ZQS9hbDBhL0lTckowMDJpWWEvdUp5VEpMQWlpbXY1Vi9xeGJEcUpaLzBWTVdxSldvck9ISm93CjdlWnRFaFJwL0dta1RRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=")
    key_content = base64.decodestring("LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBdkxGMFhaaFBCTGRUOGdLSzIrb05WT1N6Uy95QWJON2R3VHR5aTNORzByV1hYbHN5Cmh6b1o2ZVA4cjJxbXk3ZmtXK0VOOEdseDMya3liaDkwVldrQnptMGRtem51cXgzdzFIL09qOTNwYkw3dzFkcU4KcXlFR2paZks5RmtNQlJuRWJibmUzRUpadkRMNzVsTHU3OGhIWDRjQ3NQRVdwZXlGa2lFZWY3eW9ITGZxS0NxdgpPK2ovbjZjamNsS2tub1JQUTNJOW56M2R6b3krclg0U0NQUmRZMG1kc3pRR2pBL3cwMDBuN1dzSXViZEt4eVQyCkVhdEJxa2ZWTHdtLy9UalFRVFBuYWFFQndRU3JmSjluY3NMRjdZMVc2eU82M0hEditFREsyWFhzN0hsUk00TjIKRUZMaUlqZjBTMzB1L3RIZE5RM21NM1N3eFY0cmRLOHdubCtBU1FJREFRQUJBb0lCQUE2cEt3VnFwQmtWdFd3RQpUbzJ2cmNGKzAzOS82dXFLbG1oQkdqRkRqNmtuZXM5Vi9xTUxIS0JUbW5wMnF1Y0JMcmtFejNSeWZPcUMzZXc0CmZXMTFiekorditJanFpdVpjL0RPelZuWVFCNjI1emQyZDdOb0tYNHU0UklES1Mvc1JKclI2a0xxMU5ZT2tBdmgKUGJkYnRFL3p5WDI5L2FoK3JCSWlpS0FjSkdPMnRFOW0raytkWEFzQ0k2eTA5aHdMQ3FaanJQUjdadkVIaXJLQQpHR0tqK2lHNEI3ZHRUbEg3c1llOTVIK01RSWpaYk1tQ3FiNEM4SmxYSEsvY21jQ0E4bjdsM3ZRbjlrd3lTdW5sCjZnamtsSDRPUUVSTG55OW9YVERlSmtSUTNPVmw5USsyWm1RVVlxS08xSG9XRkZ6R1VUV1hoZmxGdmxZTW41ekUKZFR2eVhkRUNnWUVBM05PaDdzL1BxQjQyU3FJTXZzNzJ4Umd1NVpDVER5ckJlK1ZMN0FzQlBNMHFLa2toQndCSQozVmNiQ3crYkFOQktyTEd3Sk1IWFpNWHNHSVJMbEdWWExTNFZiQk5ZWTExNk5Ub3JTT2dYT2FZQXZ0OVJ1WmhjCmdNTDA1Z2pVZDJsVkE0dWpPOE81ZnBtQkQybGsrOU1qcU94cjFYR2dnSVB6Zm93WUtoZTBWR2NDZ1lFQTJyK08KR0YrbHVnYXBCUjBQcVFjekhFdnM1Mjc1M2szTXJxdC8xRFU3NHZieHVxR0d2bXpvZTY3bTQ2NkVOazk4QlJtMQpBWXEzTE9wbjV2TVM5QWpEaGJqT2pWV0lwV3RhcFJzeWtHeVRKUzhVQkxhUFJCUnhISDZIcWZoS2hlT0d0L1FlCnFmeHNBVC9YdU12WVZBSHJDYWUzWjJRaGJqUmx3L2NReXBQMkY4OENnWUVBbEEvNlZZdFU2cDVIUE1kbTBGRW8KdUlJOGY0UHVkbzd1YUVvWUc4NU5LQjFRRmtZdU5PbUY4WkxEK1NpZmYyNHBnNTBvUTUwTTlPNllIT0FuWlBxRgo5eThkQWZmK25iRkJqWXJSRnZNM0QxbzB5Y1ltbjlCK3hYN3lnWUtPSXZxbkc5ZDJ2VTNBaEJnY3B0Njk3UE5tCng0NnR4dEdIRW1SbTBRVFI5dmNwM0NVQ2dZQjhicnJGNHFMRFQwYVdRaEhHZFBIK0JyS2NjK1J2TUpKZVNmQk4KSm5zS2dLN0JHMkVxc1lrTjBsQkU4K0VCZy9Wb2NWY2xxV0xKaWczUXNqVDEzSVpjYXVRVVFiT1paWmdLazQ0UAoyYk5hVTQxdm9PbWVNSUtuVXRLWlBVUW5KV1pjL2VEemtVTmU4cElqN05FQitKVmF5S3pyZzJvQTVvMTlDKzNoClRvbU93UUtCZ0Q0UVBwTWt4VGNpK2pjSWplRGNFUjgxdnZwZnhYVUNDanV0aVM2M2dsa0xGODhPV2hrUUF6WXcKdE1nQzJ0TFhieFhtS2cxSkhBVTM2aG9KUlpFN3E4TDMxTzgrNkVsMnhGOHVTWk5EZDVpMzFKRUtGeFVPUUtscgpPaFBnM3I0NU04bHZvUGwxT0diWGJWOUlDaUM4eGJLaGZ2UXpmb2RHLy92aWVYL2p4K0JzCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==")

    myconfig.key_file = config.kube_config._create_temp_file_with_content(key_content)
    myconfig.cert_file = config.kube_config._create_temp_file_with_content(cert_content)

    client.Configuration.set_default(myconfig)

    v1 = client.CoreV1Api()
    print("Listing pods with their IPs:")

    ret = v1.list_pod_for_all_namespaces(watch=False)
    for i in ret.items:
        print("%s\t%s\t%s" % (i.status.pod_ip, i.metadata.namespace, i.metadata.name))


if __name__ == '__main__':
    main()
